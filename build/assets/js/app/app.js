
jQuery(document).ready(function(t){});var api_url="https://lit-headland-35601.herokuapp.com",url,createItemInDOM=function(t){console.log(t);var e,o,r,a,i=$("<div>");i.addClass("message"),i.append("<p>"+t.message+"</p>"),i.css({width:"300px",height:"auto",position:"absolute"}),i.children().css({width:"100%"});var n=i.height(),s=300,d=function(){min=Math.ceil(0),max=Math.floor(3),e=Math.floor(Math.random()*(max-min+1))+min,c(e)},c=function(t){console.log(e),1>=t?(o="left",console.log(o)):t>1&&2>=t?(o="front",console.log(o)):t>2&&(o="right",console.log(o))},l=function(){d();var t=Math.floor(61*Math.random())-60;"left"==o?(r=(Math.random()*($(".big-left-side").width()-s)).toFixed(),a=(Math.random()*($(".big-left-side").height()-n)).toFixed(),console.log(r,a),i.css({top:a+"px",left:r+"px",transform:"rotate("+t+"deg)"}).appendTo($(".big-left-side")).fadeIn(100)):"right"==o?(r=(Math.random()*($(".big-right-side").width()-s)).toFixed(),a=(Math.random()*($(".big-right-side").height()-n)).toFixed(),console.log(r,a),i.css({top:a+"px",left:r+"px",transform:"rotate("+t+"deg)"}).appendTo($(".big-right-side")).fadeIn(100)):"front"==o&&(r=(Math.random()*($(".big-far-wall").width()-s)).toFixed(),a=(Math.random()*($(".big-far-wall").height()-n)).toFixed(),console.log(r,a),i.css({top:a+"px",left:r+"px",transform:"rotate("+t+"deg)"}).appendTo($(".big-far-wall")).fadeIn(100))};l()};$(document).on("click",'input[type="submit"]',function(t){t.preventDefault();var e={message:$("textarea").val()};$.ajax(api_url+"/items",{method:"post",data:e,dataType:"json"}).done(function(t){createItemInDOM(t),$("textarea").val("").focus()})});var $door=document.querySelector(".door"),$rotAssembly=document.querySelector(".rotational-assembly"),$assembly=document.querySelector(".assembly"),$intro=document.querySelector(".intro"),$introBackground=document.querySelector(".intro--background"),posZ,rotationNumber=0,cameraRotationX=0,cameraRotationZ=0,rotationNumberReset=function(){-360>=rotationNumber?rotationNumber=0:rotationNumber>=360&&(rotationNumber=0)},getZPosition=function(){var t=$($rotAssembly).css("transform").match(/matrix(?:(3d)\(-{0,1}\d+\.?\d*(?:, -{0,1}\d+\.?\d*)*(?:, (-{0,1}\d+\.?\d*))(?:, (-{0,1}\d+\.?\d*))(?:, (-{0,1}\d+\.?\d*)), -{0,1}\d+\.?\d*\)|\(-{0,1}\d+\.?\d*(?:, -{0,1}\d+\.?\d*)*(?:, (-{0,1}\d+\.?\d*))(?:, (-{0,1}\d+\.?\d*))\))/);return t?"3d"==t[1]?t.slice(4,5):(t.push(0),t.slice(7,8)):[0,0,0]},zChecker=function(){getZPosition(),posZ=getZPosition()[0],console.log(posZ)},moveForward=function(){return posZ>=2850&&!$($door).hasClass("clicked")?!1:posZ>=4700&&90>(rotationNumber>-90)?!1:void TweenLite.to($rotAssembly,.1,{z:"+=50",transformOrigin:"50% 0%"})},rotateLeft=function(){TweenLite.to(".assembly",.1,{rotationY:"-=30",transformOriginZ:"500px"})},rotateRight=function(){TweenLite.to(".assembly",.1,{rotationY:"+=30",transformOriginZ:"500px"})},moveBack=function(){return 0>=posZ?!1:void TweenLite.to(".rotational-assembly",.1,{z:"-=50",transformOrigin:"50% 0%"})},upArrowClicked=function(){return $($intro).hasClass("hidden")?(setTimeout(zChecker(),100),void moveForward()):!1},leftArrowClicked=function(){return $($intro).hasClass("hidden")?(rotateLeft(),rotationNumber-=30,rotationNumberReset(),console.log(rotationNumber),void 0):!1},rightArrowClicked=function(){return $($intro).hasClass("hidden")?(rotateRight(),rotationNumber+=30,rotationNumberReset(),console.log(rotationNumber),void 0):!1},backArrowClicked=function(){return $($intro).hasClass("hidden")?(setTimeout(zChecker(),100),void moveBack()):!1},wPressed=function(){zChecker(),moveCameraUp()};$(document).keydown(function(t){switch(t.which){case 37:leftArrowClicked();break;case 38:rotationNumber>-90&&90>rotationNumber||-270>rotationNumber||rotationNumber>270?upArrowClicked():(-90>rotationNumber&&rotationNumber>-270||rotationNumber>90&&270>rotationNumber)&&backArrowClicked();break;case 39:rightArrowClicked();break;case 40:rotationNumber>-90&&90>rotationNumber||-270>rotationNumber||rotationNumber>270?backArrowClicked():(-90>rotationNumber&&rotationNumber>-270||rotationNumber>90&&270>rotationNumber)&&upArrowClicked();break;case 87:if($("input, textarea").is(":focus"))return!0;rotationNumber>-90&&90>rotationNumber||-270>rotationNumber||rotationNumber>270?upArrowClicked():(-90>rotationNumber&&rotationNumber>-270||rotationNumber>90&&270>rotationNumber)&&backArrowClicked();break;case 65:if($("input, textarea").is(":focus"))return!0;leftArrowClicked();break;case 83:if($("input, textarea").is(":focus"))return!0;rotationNumber>-90&&90>rotationNumber||-270>rotationNumber||rotationNumber>270?backArrowClicked():(-90>rotationNumber&&rotationNumber>-270||rotationNumber>90&&270>rotationNumber)&&upArrowClicked();break;case 68:if($("input, textarea").is(":focus"))return!0;rightArrowClicked();break;default:return}t.preventDefault()}),$(".door").on("click",function(){$(this).addClass("clicked"),$($rotAssembly).append('<div class="light-face big-floor texture"></div><div class="dark-face big-ceiling texture"></div><div class="dark-face mini-left-wall texture"></div><div class="dark-face mini-right-wall texture"></div><div class="light-face big-far-wall texture"><h1 class="contact">Scratch Your Message</h1><form class="contactMe"><fieldset class="form-group"><label for="exampleTextarea">Your Message</label><textarea class="form-control" id="exampleTextarea" rows="3" required="true"></textarea></fieldset><input type="submit" class="btn btn-primary btn-lg"></form></div><div class="light-face big-left-side texture"></div><div class="light-face big-right-side texture"></div>'),$.ajax(api_url+"/items",{method:"get",dataType:"json"}).done(function(t){console.log(t),$(t).each(function(t,e){createItemInDOM(e)})})}),$($introBackground).on("click",function(){$(this).parent().fadeOut("slow",function(){$(this).addClass("hidden")})});